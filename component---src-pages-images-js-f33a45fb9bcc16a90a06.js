(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"ta+j":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),r=n("Sp1i"),i=n.n(r);function u(e){return e.join("\n")}i.a.config.update({region:"eu-central-1",credentials:new i.a.CognitoIdentityCredentials({IdentityPoolId:"eu-central-1:5786ef9b-b058-45e7-b698-aca2f1007fe9"})});var l=new i.a.S3({apiVersion:"2006-03-01",params:{Bucket:"user-story-creator"}});function c(e){var t=encodeURIComponent(e)+"/";l.listObjects({Prefix:t},(function(n,a){if(n)return alert("There was an error viewing your album: "+n.message);var o=this.request.httpRequest.endpoint.href+"user-story-creator/",r=a.Contents.map((function(n){var a=n.Key;return u(["<span>","<div>",'<img style="width:128px;height:128px;" src="'+(o+encodeURIComponent(a))+'"/>',"</div>","<div>","<span onclick=\"deletePhoto('"+e+"','"+a+"')\">","X","</span>","<span>",a.replace(t,""),"</span>","</div>","</span>"])})),i=r.length?"<p>Click on the X to delete the photo</p>":"<p>You do not have any photos in this album. Please add photos.</p>",l=["<h2>","Album: "+e,"</h2>",i,"<div>",u(r),"</div>",'<input id="photoupload" type="file" accept="image/*">','<button id="addphoto" onclick="addPhoto(\''+e+"')\">","Add Photo","</button>",'<button onclick="listAlbums()">',"Back To Albums","</button>"];document.getElementById("app").innerHTML=u(l)}))}window.createAlbum=function(e){if(!(e=e.trim()))return alert("Album names must contain at least one non-space character.");if(-1!==e.indexOf("/"))return alert("Album names cannot contain slashes.");var t=encodeURIComponent(e);l.headObject({Key:t},(function(n,a){return n?"NotFound"!==n.code?alert("There was an error creating your album: "+n.message):void l.putObject({Key:t},(function(t,n){if(t)return alert("There was an error creating your album: "+t.message);alert("Successfully created album."),c(e)})):alert("Album already exists.")}))};t.default=function(){return o.a.useEffect((function(){c("test")})),o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"My Photo Albums App"),o.a.createElement("div",{id:"app"}),o.a.createElement("div",null),o.a.createElement("div",null,o.a.createElement("input",{id:"photoupload",type:"file",accept:"image/*"}),o.a.createElement("button",{id:"addphoto",onClick:function(){return function(e){var t=document.getElementById("photoupload").files;if(!t.length)return alert("Please choose a file to upload first.");var n=t[0],a=n.name,o=encodeURIComponent(e)+"/"+a;new i.a.S3.ManagedUpload({params:{Bucket:"user-story-creator",Key:o,Body:n,ACL:"public-read"}}).promise().then((function(t){alert("Successfully uploaded photo."),console.log(t),c(e)}),(function(e){return alert("There was an error uploading your photo: ",e.message)}))}("test")}},"Upload")))}}}]);
//# sourceMappingURL=component---src-pages-images-js-f33a45fb9bcc16a90a06.js.map