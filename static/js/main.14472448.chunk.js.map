{"version":3,"sources":["reducers.js","tab-panel.js","utils/convert-to-md.js","preview-part.js","table.js","editable-part.js","story-name.js","upload-menu.js","utils/convert-from-md.js","App.js","serviceWorker.js","index.js"],"names":["initialState","storyName","goals","additional","stories","id","uuidv4","role","action","purpose","tests","text","isDialogOpen","getEmptyStory","getEmptyTest","getInitialState","state","Cookies","get","JSON","parse","saveToCookies","set","sameSite","children","value","index","padding","hidden","style","maxHeight","overflow","Box","p","data","name","result","trim","push","forEach","story","tableLine","map","test","testId","join","useSelector","React","tabValue","setTabValue","handleChange","event","markdown","convertToMD","Paper","AppBar","position","color","Tabs","onChange","aria-label","Tab","label","TextField","variant","multiline","width","dangerouslySetInnerHTML","__html","marked","getRowId","row","BooleanFormatter","BooleanTypeProvider","props","formatterComponent","DragHandle","SortableHandle","Tooltip","title","enterDelay","cursor","FocusableCell","onClick","restProps","column","Cell","tabIndex","onFocus","RowDetail","dispatch","useDispatch","useState","setText","addTest","useCallback","type","storyId","deleteTest","onKeyDown","e","keyCode","paddingBottom","length","Chip","key","onDelete","marginRight","target","autoFocus","Button","commandComponents","add","onExecute","IconButton","textAlign","delete","window","confirm","Command","CommandButton","columns","getCellValue","editingStateColumnExtensions","columnName","editingEnabled","tableColumnExtensions","wordWrapEnabled","align","editingCells","setEditingCells","addEmptyStory","onSortEnd","oldIndex","newIndex","arrayMove","Body","TableBody","SortableContainer","Table","useDragHandle","rows","for","onCommitChanges","added","changed","deleted","onEditingCellsChange","addedRows","onAddedRowsChange","columnExtensions","cellComponent","bodyComponent","rowComponent","TableRow","SortableElement","Row","indexOf","selectTextOnEditStart","showAddCommand","showDeleteCommand","commandComponent","contentComponent","goalsChange","additionalChange","placeholder","inputProps","select","editable","setEditable","onBlur","Typography","UploadMenu","isOpen","handleClose","handleUpload","fileString","contentLines","split","reduce","acc","line","replace","i","substring","isTest","testLine","lineIndex","storyIndex","Number","lastIndex","convertFromMD","textChange","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","App","exportMD","blob","Blob","saveAs","openDialog","resetData","className","height","backgroundColor","Toolbar","flexGrow","display","paddingLeft","Boolean","location","hostname","match","store","createStore","remove","deletedSet","Set","nextStories","filter","has","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.14472448.chunk.js","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\nimport Cookies from 'js-cookie'\n\nconst defaultStoryName = 'Untitled Stories';\n\nconst initialState = {\n  storyName: defaultStoryName,\n  goals: '',\n  additional: '',\n  stories: [{\n    id: uuidv4(),\n    role: 'Story Tailer',\n    action: 'make stories',\n    purpose: 'make my work more convenient',\n    tests: [{\n      id: uuidv4(),\n      text: 'Open Story Creator App'\n    }, {\n      id: uuidv4(),\n      text: 'Enjoy 😃',\n    }]\n  }],\n\n  isDialogOpen: false,\n}\n\nconst getEmptyStory = () => ({\n  id: uuidv4(),\n  role: '',\n  action: '',\n  purpose: '',\n  tests: [],\n});\n\nconst getEmptyTest = (text) => ({\n  id: uuidv4(),\n  text,\n});\n\nconst getInitialState = () => {\n  const state = Cookies.get('state');\n  if(state) return JSON.parse(state);\n  return initialState;\n};\n\nconst saveToCookies = (state) => {\n  Cookies.set('state', state, { sameSite: 'None' });\n  return state;\n};\n\nexport default (state = getInitialState(), action) => {\n  switch (action.type) {\n    case 'resetData': {\n      Cookies.remove('state');\n      return initialState;\n    }\n    case 'setState': {\n      return saveToCookies({ ...state, storyName: action.name, stories: action.stories, goals: action.goals, additional: action.additional });\n    }\n    case 'setGoals': {\n      return saveToCookies({ ...state, goals: action.goals });\n    }\n    case 'setAdditional': {\n      return saveToCookies({ ...state, additional: action.additional });\n    }\n    case 'setStoryName': {\n      if (action.storyName.trim() === '') {\n        return saveToCookies({ ...state, storyName: defaultStoryName });\n      }\n      return saveToCookies({ ...state, storyName: action.storyName });\n    }\n    case 'setStories': {\n      return saveToCookies({ ...state, stories: action.stories });\n    }\n    case 'addStory': { // OK\n      return saveToCookies({\n        ...state,\n        stories: [...state.stories, getEmptyStory()] \n      });\n    }\n    case 'deleteStory': { // OK\n      const deletedSet = new Set(action.deleted);\n      const nextStories = state.stories.filter(row => !deletedSet.has(row.id));\n\n      return saveToCookies({\n        ...state,\n        stories: nextStories,\n      });\n    }\n    case 'changeStory': { // OK\n      const nextStories = state.stories.map(row => (action.changed[row.id] ? { ...row, ...action.changed[row.id] } : row));\n      return saveToCookies({\n        ...state, stories: nextStories,\n      });\n    }\n    case 'addTest': { //OK\n      const nextStories = state.stories.reduce((acc, story) => {\n        if (action.storyId === story.id) {\n          story.tests.push(getEmptyTest(action.text));\n        }\n        acc.push(story);\n        return acc;\n      }, []);\n\n      return saveToCookies({\n        ...state, stories: nextStories,\n      });\n    }\n    case 'deleteTest': { // OK\n      const nextStories = state.stories.map((story) => {\n        if (story.id === action.storyId) {\n          story.tests = story.tests.filter(test => test.id !== action.testId);\n        } return story;\n      });\n\n      return saveToCookies({\n        ...state, stories: nextStories,\n      });\n    }\n    case 'setDialog': {\n      return { ...state, isDialogOpen: action.value };\n    }\n    default:\n      return state;\n  }\n}","import * as React from 'react';\nimport Box from '@material-ui/core/Box';\n\nexport default ({ children, value, index, padding = 3 }) => (\n  <div\n    id={index}\n    hidden={value !== index}\n    style={{ maxHeight: '85vh', overflow: 'auto' }}\n  >\n    {value === index && (\n      <Box p={padding}>\n        {children}\n      </Box>\n    )}\n  </div>\n);","export default (data, name, goals, additional) => {\n  const result = [`## ${name}`];\n  !!goals.trim() && result.push(`\\n#### Goals\\n\\n${goals.trim()}`);\n  result.push('\\n#### User Stories\\n');\n\n  data.forEach((story, id) => {\n    result.push(`${id + 1}. As a ${story.role.trim()}, I want to be able to ${story.action.trim()}, so that I can ${story.purpose.trim()}.`);\n  });\n\n  result.push('\\n#### Acceptance Criteria & Tests');\n  result.push('\\n| ID | Criteria | Test |');\n  result.push('| :--: | :------- | :--- |');\n\n  data.forEach((story, id) => {\n    const tableLine = `| ${id + 1} | Capability to ${story.action.trim()}. | ${story.tests.map((test, testId) => `${testId + 1}. ${test.text.trim()}. `).join('')} |`;\n    result.push(tableLine);\n  });\n\n  !!additional.trim() && result.push(`\\n#### Additional\\n\\n${additional.trim()}`);\n\n  return result.join('\\n');\n};","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport marked from 'marked';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport TabPanel from './tab-panel';\nimport convertToMD from './utils/convert-to-md';\n\nexport default () => {\n  const { stories, storyName, goals, additional } = useSelector(state => ({\n    stories: state.stories,\n    storyName: state.storyName,\n    goals: state.goals,\n    additional: state.additional,\n  }));\n  const [tabValue, setTabValue] = React.useState(0);\n  const handleChange = React.useCallback((event, value) => setTabValue(value), [setTabValue]);\n  const markdown = convertToMD(stories, storyName, goals, additional);\n\n  return (\n    <Paper>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs value={tabValue} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"Markdown\" />\n          <Tab label=\"Preview\" />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={tabValue} index={0}>\n        <TextField value={markdown} variant=\"outlined\" multiline style={{ width: '100%' }} />\n      </TabPanel>\n      <TabPanel value={tabValue} index={1}>\n        <div dangerouslySetInnerHTML={{__html: marked(markdown) }} />\n      </TabPanel>\n    </Paper>\n  );\n};","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { EditingState, RowDetailState, DataTypeProvider } from '@devexpress/dx-react-grid';\nimport {\n  Grid,\n  Table,\n  TableHeaderRow,\n  TableEditColumn,\n  TableRowDetail,\n  TableInlineCellEditing,\n} from '@devexpress/dx-react-grid-material-ui';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport {\n  SortableContainer,\n  SortableHandle,\n  SortableElement,\n  arrayMove\n} from \"react-sortable-hoc\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Done from '@material-ui/icons/Done';\nimport Close from '@material-ui/icons/Close';\nimport DragIndicator from '@material-ui/icons/DragIndicator';\nimport PostAdd from '@material-ui/icons/PostAdd';\nimport Delete from '@material-ui/icons/Delete';\n\nconst getRowId = row => row.id;\n\nconst BooleanFormatter = ({ value }) => value ? <Done /> : <Close />;\n\nconst BooleanTypeProvider = props => (\n  <DataTypeProvider\n    formatterComponent={BooleanFormatter}\n    {...props}\n  />\n);\n\nconst DragHandle = SortableHandle(({ style }) => (\n  <Tooltip title=\"Drag to reorder\" enterDelay={400}>\n    <span style={{ ...style, cursor: \"move\" }}><DragIndicator /></span>\n  </Tooltip>\n));\n\nconst FocusableCell = ({ onClick, ...restProps }) => {\n  if (restProps.column.name === \"drag\") {\n    return (\n      <Table.Cell {...restProps}>\n        <DragHandle />\n      </Table.Cell>\n    );\n  }\n  return <Table.Cell {...restProps} tabIndex={0} onFocus={onClick} style={{ ...restProps.style, cursor: 'pointer' }} />;\n}\n\nconst RowDetail = ({ row }) => {\n  const dispatch = useDispatch();\n  const [text, setText] = React.useState('');\n  const addTest = React.useCallback(() => {\n    setText('');\n    dispatch({ type: 'addTest', storyId: row.id, text });\n  }, [row, text, dispatch]);\n  const deleteTest = React.useCallback((testId) => dispatch({ type: 'deleteTest', testId, storyId: row.id }), [row, dispatch]);\n  const onKeyDown = React.useCallback((e) => {\n    if (e.keyCode === 13 && !!text.trim()) addTest();\n  }, [addTest, text]);\n\n  return (\n    <div>\n      <div style={{ paddingBottom: '8px' }}>\n        {row.tests.length ? row.tests.map(test => (\n          <Chip\n            key={test.id}\n            label={test.text}\n            onDelete={() => deleteTest(test.id)}\n            style={{ marginRight: '8px' }}\n          />\n        )) : (\n          <p>\n            No tests here.\n          </p>\n        )}\n      </div>\n\n      <div>\n        <TextField variant=\"filled\" value={text} onChange={e => setText(e.target.value)} onKeyDown={onKeyDown} autoFocus />\n        <Button color=\"primary\" onClick={addTest}>\n          Add\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nconst AddButton = ({ onExecute }) => (\n  <Tooltip title=\"Create a story\" enterDelay={500}>\n    <IconButton\n      style={{ textAlign: 'center' }}\n      onClick={onExecute}\n    >\n      <PostAdd\n        style={{ color: '#E91E63' }}\n      />\n    </IconButton>\n  </Tooltip>\n);\n\nconst DeleteButton = ({ onExecute }) => (\n  <Tooltip title=\"Delete the story\" enterDelay={500}>\n    <IconButton\n      onClick={() => {\n        // eslint-disable-next-line\n        if (window.confirm('Are you sure you want to delete this story?')) {\n          onExecute();\n        }\n      }}\n    >\n      <Delete />\n    </IconButton>\n  </Tooltip>\n);\n\nconst commandComponents = {\n  add: AddButton,\n  delete: DeleteButton,\n};\n\nconst Command = ({ id, onExecute }) => {\n  const CommandButton = commandComponents[id];\n  return (\n    <CommandButton\n      onExecute={onExecute}\n    />\n  );\n};\n\nconst columns = [\n  { name: 'role', title: 'Role' },\n  { name: 'action', title: 'Action' },\n  { name: 'purpose', title: 'Purpose' },\n  { name: 'tests', title: 'Tests', getCellValue: row => row.tests.length > 0 ? true : false },\n  { name: 'drag', title: ' ' },\n];\n\nconst editingStateColumnExtensions = [\n  { columnName: 'tests', editingEnabled: false },\n];\n\nconst tableColumnExtensions = [\n  { columnName: 'role', width: 150, wordWrapEnabled: true },\n  { columnName: 'action', wordWrapEnabled: true },\n  { columnName: 'purpose', wordWrapEnabled: true },\n  { columnName: 'tests', width: 55, align: 'center' },\n  { columnName: 'drag', width: 40, align: 'center' },\n];\n\nexport default () => {\n  const stories = useSelector(state => state.stories);\n  const dispatch = useDispatch();\n  const [editingCells, setEditingCells] = useState([]);\n  const addEmptyStory = React.useCallback(() => dispatch({ type: 'addStory' }), [dispatch]);\n  const onSortEnd = React.useCallback(({ oldIndex, newIndex }) =>\n    dispatch({ type: 'setStories', stories: arrayMove(stories, oldIndex, newIndex) }), [dispatch, stories]);\n  const Body = React.useCallback((props) => {\n    const TableBody = SortableContainer(Table.TableBody);\n    return (\n      <TableBody {...props} onSortEnd={onSortEnd} useDragHandle />\n    );\n  }, [onSortEnd]);\n\n  const commitChanges = ({ added, changed, deleted }) => {\n    if (changed) {\n      dispatch({ type: 'changeStory', changed });\n    }\n    if (deleted) {\n      dispatch({ type: 'deleteStory', deleted });\n    }\n  };\n\n  return (\n    <Grid\n      rows={stories}\n      columns={columns}\n      getRowId={getRowId}\n    >\n      <BooleanTypeProvider for={['tests']} />\n\n      <RowDetailState />\n      <EditingState\n        onCommitChanges={commitChanges}\n        editingCells={editingCells}\n        onEditingCellsChange={setEditingCells}\n        addedRows={[]}\n        onAddedRowsChange={addEmptyStory}\n        columnExtensions={editingStateColumnExtensions}\n      />\n      <Table\n        columnExtensions={tableColumnExtensions}\n        cellComponent={FocusableCell}\n        bodyComponent={Body}\n        rowComponent={({ row, ...restProps }) => {\n          const TableRow = SortableElement(Table.Row);\n          return <TableRow {...restProps} row={row} index={stories.indexOf(row)} />;\n        }}  \n      />\n      <TableHeaderRow />\n      <TableInlineCellEditing selectTextOnEditStart />\n      <TableEditColumn\n        width={70}\n        showAddCommand\n        showDeleteCommand\n        commandComponent={Command}\n      />\n      <TableRowDetail\n        contentComponent={RowDetail}\n      />\n    </Grid>\n  );\n};\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Table from './table';\nimport TabPanel from './tab-panel';\n\nexport default () => {\n  const { goals, additional } = useSelector(state => ({\n    goals: state.goals,\n    additional: state.additional,\n  }));\n  const dispatch = useDispatch();\n  const [tabValue, setTabValue] = React.useState(0);\n  const handleChange = React.useCallback((event, value) => setTabValue(value), [setTabValue]);\n  const goalsChange = React.useCallback(e => dispatch({ type: 'setGoals', goals: e.target.value }), [dispatch]);\n  const additionalChange = React.useCallback(e => dispatch({ type: 'setAdditional', additional: e.target.value }), [dispatch]);\n\n  return (\n    <Paper>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs value={tabValue} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"User Stories\" />\n          <Tab label=\"Goals\" />\n          <Tab label=\"Additional\" />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={tabValue} index={0} padding={0}>\n        <Table />\n      </TabPanel>\n      <TabPanel value={tabValue} index={1}>\n        <TextField value={goals} onChange={goalsChange} autoFocus variant=\"outlined\" multiline style={{ width: '100%' }} placeholder=\"Goals here...\" />\n      </TabPanel>\n      <TabPanel value={tabValue} index={2}>\n        <TextField value={additional} onChange={additionalChange} autoFocus variant=\"outlined\" multiline style={{ width: '100%' }} placeholder=\"Additional data here...\" />\n      </TabPanel>\n    </Paper>\n  );\n};","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst onFocus = e => e.target.select();\nconst inputProps = { onFocus };\n\nexport default () => {\n  const storyName = useSelector(state => state.storyName);\n  const dispatch = useDispatch();\n  const handleChange = React.useCallback((event) => dispatch({ type: 'setStoryName', storyName: event.target.value }), [dispatch]);\n  const [editable, setEditable] = React.useState(false);\n  const onBlur = React.useCallback(() => setEditable(false), []);\n  const onKeyDown = React.useCallback((e) => {\n    if (e.keyCode === 13) onBlur();\n  }, [onBlur]);\n  const onClick = React.useCallback(() => setEditable(true), []);\n\n  return editable ? (\n    <TextField value={storyName} onChange={handleChange} autoFocus onBlur={onBlur} inputProps={inputProps} onKeyDown={onKeyDown} />\n  ) : (\n    <Tooltip title=\"Click to change the stories name\">\n      <Typography onClick={onClick} style={{ color: '#E91E63' }} >\n        {storyName}\n      </Typography>\n    </Tooltip>\n  );\n};","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { convertFromMD } from './utils/convert-from-md';\n\nexport default function UploadMenu() {\n  const isOpen = useSelector(state => state.isDialogOpen);\n  const dispatch = useDispatch();\n  const [text, setText] = React.useState('');\n  const handleClose = React.useCallback(() => {\n    dispatch({ type: 'setDialog', value: false });\n    setText('');\n  }, [dispatch, setText]);\n  const handleUpload = React.useCallback(() => {\n    dispatch({ type: 'setState', ...convertFromMD(text) });\n    handleClose();\n    setText('');\n  }, [dispatch, text, handleClose, setText]);\n  const textChange = React.useCallback(e => setText(e.target.value), [setText]);\n\n  return (\n    <div>\n      <Dialog open={isOpen} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Upload Stories Data</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            You can upload your user stories into the App as a plain text.\n          </DialogContentText>\n          <TextField value={text} onChange={textChange} variant=\"outlined\" multiline style={{ width: '100%' }} placeholder=\"Pass MD text here...\" />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleUpload} color=\"primary\">\n            Upload\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import { v4 as uuidv4 } from 'uuid';\n\nconst removeEmptyRows = (lines) => {\n  return lines.reduce((acc, line) => {\n    line && acc.push(line);\n    return acc;\n  }, []);\n};\n\nexport const convertFromMD = (fileString) => {\n  const contentLines = removeEmptyRows(fileString.split('\\n'));\n  let name = '';\n  const goals = [];\n  const additional = [];\n  const stories = [];\n\n  contentLines.forEach((line, index) => {\n    if (!name && line.indexOf('##') > -1) { // name\n      name = line.replace('##', '').trim();\n    }\n    if (line.indexOf('#### Goals') > -1) { // goals\n      for (let i = index + 1; i < contentLines.length && contentLines[i].indexOf('#') < 0 ; i ++) {\n        goals.push(contentLines[i].trim());\n      }\n    }\n    if (line.indexOf('#### Additional') > -1) { // additional\n      for (let i = index + 1; i < contentLines.length && contentLines[i].indexOf('#') < 0 ; i ++) {\n        additional.push(contentLines[i].trim());\n      }\n    }\n    if (line.indexOf('#### User Stories') > -1) { // user stories\n      // 1. As a user, I want to be able to see a list of all available product previews, so that I can make a good choice for me.\n      for (let i = index + 1; i < contentLines.length && contentLines[i].indexOf('#') < 0 ; i ++) {\n        const story = contentLines[i];\n        const role = story.substring(8, story.indexOf(', I want to'));\n        const action = story.substring(story.indexOf(' I want to be able to ') + 22, story.indexOf(', so that I can '));\n        const purpose = story.substring(story.indexOf(', so that I can ') + 16).replace('.', '');\n        const tests = [];\n        stories.push({\n          id: uuidv4(),\n          role,\n          action,\n          purpose,\n          tests,\n        });\n      }\n    }\n\n    if (line.indexOf('#### Acceptance Criteria & Tests') > -1) { // tests\n      // #### Acceptance Criteria & Tests\\n| ID | Criteria | Test |\\n| -- | :------- | :--- |\\n| 1 | Capability to see a list of all available product previews. | 1. Navigate to the `gallery` page. |\n      let isTest = false;\n      for (let i = index + 1; i < contentLines.length && contentLines[i].indexOf('#') < 0; i ++) {\n        const testLine = contentLines[i];\n        if (testLine.indexOf('| 1 |') > -1) {\n          isTest = true;\n        }\n        if (isTest) {\n          const [lineIndex, , tests] = testLine.split(' | ');\n          const storyIndex = Number(lineIndex.substring(2)) - 1;\n          \n          for (let i = 1; tests.indexOf(`${i}. `) > -1; i++) {\n            const lastIndex = tests.indexOf(`${i + 1}. `);\n            const text = tests.substring(tests.indexOf(`${i}. `) + 3, lastIndex > -1 ? lastIndex - 2 : tests.length - 3);\n            stories[storyIndex].tests.push({\n              id: uuidv4(),\n              text,\n            })\n          }\n        }\n      }\n    }\n  });\n\n  return {\n    stories,\n    name,\n    goals: goals.join('\\n'),\n    additional: additional.join('\\n'),\n  };\n};","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport { saveAs } from 'file-saver';\nimport PreviewPart from './preview-part';\nimport EditablePart from './editable-part';\nimport convertToMD from './utils/convert-to-md';\nimport StoryName from './story-name';\nimport UploadMenu from './upload-menu';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { stories, storyName, goals, additional } = useSelector(state => ({\n    stories: state.stories,\n    storyName: state.storyName,\n    goals: state.goals,\n    additional: state.additional,\n  }));\n  const exportMD = React.useCallback(() => {\n    const filename = \"data.md\";\n\n    const blob = new Blob([convertToMD(stories, storyName, goals, additional)], {\n      type: 'text/plain;charset=utf-8'\n    });\n\n    saveAs(blob, filename);\n  }, [stories, storyName, goals, additional]);\n  const openDialog = React.useCallback(() => dispatch({ type: 'setDialog', value: true }), [dispatch]);\n  const resetData = React.useCallback(() => dispatch({ type: 'resetData' }), [dispatch]);\n  \n  return (\n    <div className=\"App\" style={{ width: '100vw', height: '100vh', backgroundColor: '#ECEFF1' }}>\n      <AppBar position=\"static\" color=\"default\">\n        <Toolbar>\n          <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n            Story Creator\n          </Typography>\n          <StoryName />\n          <Tooltip title=\"Upload a markdown file\">\n            <IconButton\n              onClick={openDialog}\n            >\n              <PublishIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Download a markdown file\">\n            <IconButton\n              onClick={exportMD}\n            >\n              <GetAppIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Reset data\">\n            <IconButton\n              onClick={resetData}\n            >\n              <RotateLeftIcon />\n            </IconButton>\n          </Tooltip>\n        </Toolbar>\n      </AppBar>\n      {/* <h3 style={{ textAlign: 'center' }}>\n        Make stories by adding data into the table. Just click on any cell to enable editing mode.\n      </h3> */}\n      <div style={{ display: 'flex' }}>\n        <div style={{ width: '55%', padding: '16px' }}>\n          <EditablePart />\n        </div>\n        <div style={{ width: '45%', padding: '16px', paddingLeft: '0px' }}>\n          <PreviewPart />\n        </div>\n      </div>\n\n      <UploadMenu />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport rootReducer from './reducers'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}