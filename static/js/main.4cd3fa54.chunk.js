(this["webpackJsonpstory-creator"]=this["webpackJsonpstory-creator"]||[]).push([[0],{118:function(e,t,a){e.exports=a(129)},127:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(23),s=a(58),i=a(97),u=a(16),d=a(187),m={storyName:"Untitled Stories",stories:[{id:Object(d.a)(),role:"Story Tailer",action:"make stories",purpose:"make my work more convenient",tests:[{id:Object(d.a)(),text:"Open Story Creator App"},{id:Object(d.a)(),text:"Enjoy \ud83d\ude03"}]}]},b=function(){return{id:Object(d.a)(),role:"",action:"",purpose:"",tests:[]}},E=function(e){return{id:Object(d.a)(),text:e}},p=(a(127),a(170)),y=a(178),f=a(168),h=a(176),v=a(186),j=a(96),O=a.n(j),g=a(83),C=a(43),w=a(55),x=a(183),k=a(130),S=a(84),N=a.n(S),I=a(181),A=a(171),D=a(180),T=function(e,t){var a=["## ".concat(t,"\n\n#### User Stories\n")];return e.forEach((function(e,t){a.push("".concat(t+1,". As a ").concat(e.role,", I want to be able to ").concat(e.action,", so that I can ").concat(e.purpose,"."))})),a.push("\n#### Acceptance Criteria & Tests"),a.push("\n| ID | Criteria | Test |"),a.push("| -- | :------- | :--- |"),e.forEach((function(e,t){var n="| ".concat(t+1," | Capability to ").concat(e.action,". | ").concat(e.tests.map((function(e,t){return"".concat(t+1,". ").concat(e.text,". ")})).join("")," |");a.push(n)})),a.join("\n")};function B(e){var t=e.children,a=e.value,r=e.index,o=Object(w.a)(e,["children","value","index"]);return(n.createElement("div",Object.assign({role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},o),a===r&&n.createElement(D.a,{p:3},n.createElement(f.a,null,t))))}var F=function(){var e=Object(l.c)((function(e){return{stories:e.stories,storyName:e.storyName}})),t=e.stories,a=e.storyName,r=T(t,a),o=n.useState(0),c=Object(C.a)(o,2),s=c[0],i=c[1],u=n.useCallback((function(e,t){return i(t)}),[i]);return n.createElement(n.Fragment,null,n.createElement(k.a,null,n.createElement(p.a,{position:"static",color:"default"},n.createElement(I.a,{value:s,onChange:u,"aria-label":"simple tabs example"},n.createElement(A.a,{label:"Markdown"}),n.createElement(A.a,{label:"Preview"}))),n.createElement(B,{value:s,index:0},n.createElement(x.a,{value:r,variant:"outlined",multiline:!0,style:{width:"100%"}})),n.createElement(B,{value:s,index:1},n.createElement("div",{dangerouslySetInnerHTML:{__html:N()(r)}}))))},R=a(8),W=a(27),P=a(177),U=a(188),H=a(56),J=a(91),L=a.n(J),M=a(92),_=a.n(M),G=a(93),K=a.n(G),V=a(94),$=a.n(V),q=a(95),z=a.n(q),Q=function(e){return e.id},X=function(e){return e.value?r.a.createElement(L.a,null):r.a.createElement(_.a,null)},Y=function(e){return r.a.createElement(R.b,Object.assign({formatterComponent:X},e))},Z=Object(H.c)((function(e){var t=e.style;return(r.a.createElement(v.a,{title:"Drag to reorder",enterDelay:400},r.a.createElement("span",{style:Object(u.a)(Object(u.a)({},t),{},{cursor:"move"})},r.a.createElement(K.a,null))))})),ee=function(e){var t=e.onClick,a=Object(w.a)(e,["onClick"]);return"drag"===a.column.name?r.a.createElement(W.b.Cell,a,r.a.createElement(Z,null)):r.a.createElement(W.b.Cell,Object.assign({},a,{tabIndex:0,onFocus:t}))},te=function(e){var t=e.row,a=Object(l.b)(),n=r.a.useState(""),o=Object(C.a)(n,2),c=o[0],s=o[1],i=r.a.useCallback((function(){s(""),a({type:"addTest",storyId:t.id,text:c})}),[t,c,a]),u=r.a.useCallback((function(e){return a({type:"deleteTest",testId:e,storyId:t.id})}),[t,a]);return r.a.createElement("div",null,r.a.createElement("div",{style:{paddingBottom:"8px"}},t.tests.length?t.tests.map((function(e){return r.a.createElement(U.a,{key:e.id,label:e.text,onDelete:function(){return u(e.id)},style:{marginRight:"8px"}})})):r.a.createElement("p",null,"No tests here.")),r.a.createElement("div",null,r.a.createElement(x.a,{variant:"filled",value:c,onChange:function(e){return s(e.target.value)}}),r.a.createElement(P.a,{color:"primary",onClick:i},"Add")))},ae={add:function(e){var t=e.onExecute;return(r.a.createElement(v.a,{title:"Create a story",enterDelay:500},r.a.createElement(h.a,{style:{textAlign:"center"},onClick:t},r.a.createElement($.a,{style:{color:"#E91E63"}}))))},delete:function(e){var t=e.onExecute;return(r.a.createElement(v.a,{title:"Delete the story",enterDelay:500},r.a.createElement(h.a,{onClick:function(){window.confirm("Are you sure you want to delete this story?")&&t()}},r.a.createElement(z.a,null))))}},ne=function(e){var t=e.id,a=e.onExecute,n=ae[t];return r.a.createElement(n,{onExecute:a})},re=[{name:"role",title:"Role"},{name:"action",title:"Action"},{name:"purpose",title:"Purpose"},{name:"tests",title:"Tests",getCellValue:function(e){return e.tests.length>0}},{name:"drag",title:" "}],oe=[{columnName:"tests",editingEnabled:!1}],ce=[{columnName:"role",width:150,wordWrapEnabled:!0},{columnName:"action",wordWrapEnabled:!0},{columnName:"purpose",wordWrapEnabled:!0},{columnName:"tests",width:55,align:"center"},{columnName:"drag",width:40,align:"center"}],le=function(){var e=Object(l.c)((function(e){return e.stories})),t=Object(l.b)(),a=Object(n.useState)([]),o=Object(C.a)(a,2),c=o[0],s=o[1],i=r.a.useCallback((function(){return t({type:"addStory"})}),[t]),u=r.a.useCallback((function(a){var n=a.oldIndex,r=a.newIndex;return t({type:"setStories",stories:Object(H.d)(e,n,r)})}),[t,e]),d=r.a.useCallback((function(e){var t=Object(H.a)(W.b.TableBody);return(r.a.createElement(t,Object.assign({},e,{onSortEnd:u,useDragHandle:!0})))}),[u]);return r.a.createElement(k.a,null,r.a.createElement(W.a,{rows:e,columns:re,getRowId:Q},r.a.createElement(Y,{for:["tests"]}),r.a.createElement(R.j,null),r.a.createElement(R.d,{onCommitChanges:function(e){e.added;var a=e.changed,n=e.deleted;a&&t({type:"changeStory",changed:a}),n&&t({type:"deleteStory",deleted:n})},editingCells:c,onEditingCellsChange:s,addedRows:[],onAddedRowsChange:i,columnExtensions:oe}),r.a.createElement(W.b,{columnExtensions:ce,cellComponent:ee,bodyComponent:d,rowComponent:function(t){var a=t.row,n=Object(w.a)(t,["row"]),o=Object(H.b)(W.b.Row);return r.a.createElement(o,Object.assign({},n,{row:a,index:e.indexOf(a)}))}}),r.a.createElement(W.d,null),r.a.createElement(W.e,{selectTextOnEditStart:!0}),r.a.createElement(W.c,{width:70,showAddCommand:!0,showDeleteCommand:!0,commandComponent:ne}),r.a.createElement(W.f,{contentComponent:te})))},se={onFocus:function(e){return e.target.select()}},ie=function(){var e=Object(l.c)((function(e){return e.storyName})),t=Object(l.b)(),a=n.useCallback((function(e){return t({type:"setStoryName",storyName:e.target.value})}),[t]),r=n.useState(!1),o=Object(C.a)(r,2),c=o[0],s=o[1],i=n.useCallback((function(){return s(!1)}),[]),u=n.useCallback((function(e){13===e.keyCode&&i()}),[i]),d=n.useCallback((function(){return s(!0)}),[]);return c?n.createElement(x.a,{value:e,onChange:a,autoFocus:!0,onBlur:i,inputProps:se,onKeyDown:u}):n.createElement(v.a,{title:"Click to change the stories name"},n.createElement(f.a,{onClick:d},e))};var ue=function(){var e=Object(l.c)((function(e){return{stories:e.stories,storyName:e.storyName}})),t=e.stories,a=e.storyName,n=r.a.useCallback((function(){var e=new Blob([T(t,a)],{type:"text/plain;charset=utf-8"});Object(g.saveAs)(e,"data.md")}),[t,a]);return r.a.createElement("div",{className:"App",style:{width:"100vw",height:"100vh",backgroundColor:"#ECEFF1"}},r.a.createElement(p.a,{position:"static",color:"default"},r.a.createElement(y.a,null,r.a.createElement(f.a,{variant:"h6",style:{flexGrow:1}},"Story Creator"),r.a.createElement(ie,null),r.a.createElement(v.a,{title:"Download a markdown file"},r.a.createElement(h.a,{onClick:n},r.a.createElement(O.a,null))))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"55%",padding:"16px"}},r.a.createElement(le,null)),r.a.createElement("div",{style:{width:"45%",padding:"16px",paddingLeft:"0px"}},r.a.createElement(F,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=Object(s.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setStoryName":return""===t.storyName.trim()?Object(u.a)(Object(u.a)({},e),{},{storyName:"Untitled Stories"}):Object(u.a)(Object(u.a)({},e),{},{storyName:t.storyName});case"setStories":return Object(u.a)(Object(u.a)({},e),{},{stories:t.stories});case"addStory":return Object(u.a)(Object(u.a)({},e),{},{stories:[].concat(Object(i.a)(e.stories),[b()])});case"deleteStory":var a=new Set(t.deleted),n=e.stories.filter((function(e){return!a.has(e.id)}));return Object(u.a)(Object(u.a)({},e),{},{stories:n});case"changeStory":var r=e.stories.map((function(e){return t.changed[e.id]?Object(u.a)(Object(u.a)({},e),t.changed[e.id]):e}));return Object(u.a)(Object(u.a)({},e),{},{stories:r});case"addTest":var o=e.stories.reduce((function(e,a){return t.storyId===a.id&&a.tests.push(E(t.text)),e.push(a),e}),[]);return Object(u.a)(Object(u.a)({},e),{},{stories:o});case"deleteTest":var c=e.stories.map((function(e){return e.id===t.storyId&&(e.tests=e.tests.filter((function(e){return e.id!==t.testId}))),e}));return Object(u.a)(Object(u.a)({},e),{},{stories:c});default:return e}}));c.a.render(r.a.createElement(l.a,{store:de},r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.4cd3fa54.chunk.js.map